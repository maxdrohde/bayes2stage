---
title: "Test Stan"
date: today
format:
  html:
    toc: true
    toc-depth: 3
    code-fold: true
    code-summary: "Show code"
    theme: cosmo
    fig-width: 10
    fig-height: 6
execute:
  warning: false
  message: false
---

```{r}
#| label: setup
#| code-fold: false

library(cmdstanr)
library(posterior)
library(bayesplot)
library(ggplot2)
library(dplyr)
library(tidyr)
library(patchwork)
library(knitr)

color_scheme_set("viridis")
```

## Model Fitting

```{r}
df <- bayes2stage::generate_data(
  N = 300,
  x_dist = "normal"
) |>
  bayes2stage::srs_design(n_sampled = 100)

draws <- bayes2stage::fit_stan_model(df,
                                     main_model_covariates = c("z"),
                                     imputation_model_covariates = c("z"))
```
